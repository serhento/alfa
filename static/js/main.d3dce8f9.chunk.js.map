{"version":3,"sources":["redux/types/actionTypes.js","redux/actions/productActions.js","components/Product.js","components/Filter.js","App.js","redux/reducers/productReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["ActionTypes","setProducts","products","type","payload","selectedProducts","state","Product","likedItems","removeItem","title","poster","id","className","src","alt","onClick","e","target","classList","contains","remove","add","parentElement","xmlns","viewBox","d","fill","width","height","Filter","showLikedItems","App","useSelector","allProducts","dispatch","useDispatch","useState","setState","isLiked","setIsliked","fetchProducts","a","axios","get","catch","err","console","log","response","data","useEffect","removeProduct","length","some","item","arr","filter","prod","map","product","initialState","likedProducts","reducers","combineReducers","idx","parseInt","push","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3dce8f9.chunk.js","sourcesContent":["export const ActionTypes = {\n    SET_PRODUCTS: \"SET_PRODUCTS\",\n    SELECTED_PRODUCTS: \"SELECTED_PRODUCTS\",\n    REMOVE_PRODUCT: \"REMOVE_PRODUCT\",\n}\n","import {ActionTypes} from \"../types/actionTypes\";\n\nexport const setProducts = (products) => {\n    return{\n        type: ActionTypes.SET_PRODUCTS,\n        payload: products\n    };\n};\n\nexport const selectedProducts = (state) => {\n    return{\n        type: ActionTypes.SELECTED_PRODUCTS,\n        payload: state\n    };\n};\n\nexport const removeProduct = (id) => {\n    return{\n        type: ActionTypes.REMOVE_PRODUCT,\n        payload: id\n    };\n};\n","import React from 'react';\n\nconst Product =({likedItems, removeItem, title, poster, id})=>{\n\n    const clickLike =(e)=>{\n        if (e.target.classList.contains('liked')) {\n            e.target.classList.remove('liked');\n        }else{\n            e.target.classList.add('liked');\n        }\n        likedItems(e.target.parentElement.id);\n    };\n\n    return(\n        <div className=\"item\" key={id}>\n            <p className=\"item-title\" >{title}</p>\n            <img className=\"item-img\" src={poster} alt=\"Poster\"/>\n            <div className=\"item-svg\">\n                <div className=\"item-svg-like\">\n                    <svg onClick={clickLike} id={id} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\n                        <path d=\"M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543\n\tc0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503\n\tc-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z\"/>\n                    </svg>\n                </div>\n                <div className=\"item-svg-remove\">\n                    <svg onClick={()=>removeItem(id)} fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"50px\" height=\"50px\">\n                        <path d=\"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z\"/>\n                    </svg>\n                </div>\n            </div>\n        </div>)\n\n};\n\nexport default Product;\n","import React from \"react\";\n\nconst Filter =({showLikedItems})=>{\n    return(\n        <div id=\"filter-block\">\n            <button onClick={showLikedItems} id=\"filter\">Фильтр</button>\n        </div>\n    )\n};\n\nexport default Filter;\n","import React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport axios from 'axios';\n\nimport './App.css';\nimport {setProducts, removeProduct, selectedProducts} from \"./redux/actions/productActions\";\nimport Product from './components/Product'\nimport Filter from \"./components/Filter\";\n\nfunction App() {\n\n  const products = useSelector((state) => state.allProducts.products);\n  const dispatch = useDispatch();\n  const [state, setState] = useState([]);\n  const [isLiked, setIsliked] = useState(false);\n\n  const fetchProducts = async() =>{\n    const response = await axios\n        .get('https://floating-sierra-20135.herokuapp.com/api/movies')\n        .catch((err) => {\n          console.log('Err', err);\n        });\n    dispatch(setProducts(response.data.data));\n  };\n\n  useEffect(()=>{\n    fetchProducts();\n  },[]);\n\n  const removeItem =(id)=>{\n    dispatch(removeProduct(id));\n  };\n\n  const likedItems =(id)=>{\n      if (state.length === 0){\n          setState([...state, id]);\n      } else{\n          if(state.some(item => item === id) === false){\n              setState([...state, id]);\n          }else{\n              let arr = state.filter((prod)=> prod !== id);\n              setState(arr);\n          }\n      }\n  };\n\n  const showLikedItems =(e)=>{\n      if(state.length === 0){\n          return true;\n      }else{\n          if(isLiked === false){\n              e.target.classList.add('filter-color');\n              dispatch(selectedProducts(state));\n              setIsliked(true);\n          }else{\n              setState([]);\n              dispatch(selectedProducts([]));\n              e.target.classList.remove('filter-color');\n              fetchProducts();\n              setIsliked(false);\n          }\n      }\n\n  };\n\n  return (\n    <div className=\"App\">\n      <Filter showLikedItems={showLikedItems}/>\n\n      <div className=\"wrapper\">\n        {products.map(product => <Product likedItems={likedItems} removeItem={removeItem} title={product.title} poster={product.poster} id={product.id}/>)}\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import {ActionTypes} from \"../types/actionTypes\";\n\nconst initialState = {\n    products: [],\n    likedProducts: []\n};\n\nexport const productReducer = (state = initialState, {type, payload}) => {\n    switch (type) {\n        case ActionTypes.SET_PRODUCTS:\n            return {...state, products: payload};\n        case ActionTypes.SELECTED_PRODUCTS:\n            if (payload.length === 0){\n                state.likedProducts = [];\n            }\n            payload.map(function (idx) {\n                state.products.map(item=>{\n                    if (item.id === parseInt(idx)){\n                        state.likedProducts.push(item);\n                    }\n                })\n            });\n            return {...state, products: state.likedProducts};\n        case ActionTypes.REMOVE_PRODUCT:\n            return {...state, products: state.products.filter((item)=> item.id !== payload)};\n        default:\n            return state;\n    }\n};\n","import {combineReducers} from \"redux\";\nimport {productReducer} from \"./productReducer\";\n\nconst reducers = combineReducers({\n    allProducts: productReducer,\n});\n\nexport default reducers;\n","import {createStore} from \"redux\";\nimport reducers from './reducers/index';\n\nconst store = createStore(reducers, {});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from './redux/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}